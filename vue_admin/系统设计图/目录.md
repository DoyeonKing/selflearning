# 医院排班系统 - 设计文档目录

## 📚 文档总览

本目录包含医院排班系统的完整设计文档，包括UML图表、功能说明和快速参考指南。

---

## 📋 文档分类

### 一、UML设计图 (PlantUML格式)

#### 1. 活动图
- **文件**: `1_活动图_排班系统流程.puml`
- **内容**: 完整业务流程活动图
- **适合**: 了解整体业务流程和决策分支

#### 2. 类图
- **文件**: `2_类图_数据库表结构.puml`
- **内容**: 数据库表结构及关系
- **适合**: 理解数据模型和表间关系

#### 3-8. 时序图系列
| 序号 | 文件名 | 场景 | 关键内容 |
|------|--------|------|----------|
| 3 | `3_时序图_单个排班创建.puml` | 创建单个班次 | 前后端交互、数据验证 |
| 4 | `4_时序图_批量排班导入.puml` | Excel批量导入 | 文件解析、批量验证 |
| 5 | `5_时序图_患者查看排班.puml` | 患者查询排班 | 多表联合查询 |
| 6 | `6_时序图_医生请假流程.puml` | 医生请假审批 | 自动取消排班、通知患者 |
| 7 | `7_时序图_排班修改与取消.puml` | 修改/取消排班 | 验证逻辑、退款处理 |
| 8 | `8_时序图_冲突检测系统.puml` | 冲突检测机制 | 5种冲突检测算法 |

---

### 二、功能说明文档

#### 1. 冲突检测功能说明
- **文件**: `../冲突检测功能说明.md`
- **内容**: 
  - 所有冲突类型详解
  - 高亮显示规则
  - 冲突解决方法
  - 测试文件说明
- **适合**: 了解冲突检测的具体实现和使用方法

#### 2. 系统设计图README
- **文件**: `README.md`
- **内容**:
  - 文件列表和说明
  - 如何查看UML图
  - 核心业务流程
  - 设计模式应用
  - 性能优化建议
  - 安全考虑
- **适合**: 系统设计的完整理解

#### 3. 快速参考指南
- **文件**: `快速参考指南.md`
- **内容**:
  - 核心概念速查
  - 场景速查表
  - 关键SQL模板
  - API端点速查
  - 常见问题解答
- **适合**: 日常开发中的快速查阅

---

## 🎯 按使用场景选择文档

### 场景1: 我是新加入的开发人员
**推荐阅读顺序**:
1. ✅ `README.md` - 了解整体架构
2. ✅ `2_类图_数据库表结构.puml` - 理解数据模型
3. ✅ `1_活动图_排班系统流程.puml` - 掌握业务流程
4. ✅ `3_时序图_单个排班创建.puml` - 学习基础操作
5. ✅ `快速参考指南.md` - 收藏常用信息

### 场景2: 我要实现某个具体功能
**查找方式**:
1. 在 `快速参考指南.md` 中查找场景速查表
2. 找到对应的时序图编号
3. 查看对应的 `.puml` 文件
4. 参考SQL模板和API端点

**示例**: 实现"批量导入排班"功能
- 查看: `4_时序图_批量排班导入.puml`
- 参考: `快速参考指南.md` 的批量导入SQL

### 场景3: 我要排查问题
**查找方式**:
1. 在 `快速参考指南.md` 查看"常见问题速查"
2. 查看相关的时序图了解完整流程
3. 使用SQL模板进行数据验证

**示例**: 排查冲突检测不准确的问题
- 查看: `8_时序图_冲突检测系统.puml`
- 参考: `../冲突检测功能说明.md`
- 使用: 冲突检测SQL模板验证数据

### 场景4: 我要优化性能
**推荐阅读**:
1. `README.md` 的"性能优化考虑"章节
2. `快速参考指南.md` 的"性能优化清单"
3. `快速参考指南.md` 的"数据量估算"

### 场景5: 我要进行数据库设计评审
**推荐使用**:
1. `2_类图_数据库表结构.puml` - 打印或投影展示
2. `README.md` - 讲解设计思路
3. `快速参考指南.md` - 展示关键SQL

---

## 📖 文档使用指南

### 查看UML图的方式

#### 在线查看
访问 [PlantUML Online](http://www.plantuml.com/plantuml/uml/)，复制粘贴`.puml`文件内容

#### VS Code
1. 安装 `PlantUML` 插件
2. 打开 `.puml` 文件
3. `Alt + D` 预览

#### IDEA/WebStorm
1. 安装 `PlantUML integration` 插件
2. 右键选择 "Show PlantUML Diagram"

#### 导出图片
```bash
java -jar plantuml.jar *.puml        # 生成PNG
java -jar plantuml.jar -tsvg *.puml  # 生成SVG
```

---

## 🔗 文档间的关联关系

```
目录.md (本文件)
    ├── README.md (设计说明总览)
    │   ├── 引用所有UML图
    │   └── 解释核心概念
    │
    ├── 快速参考指南.md (开发速查)
    │   ├── SQL模板
    │   ├── API速查
    │   └── 常见问题
    │
    ├── UML图系列
    │   ├── 1_活动图_排班系统流程.puml
    │   ├── 2_类图_数据库表结构.puml
    │   ├── 3-8 时序图系列
    │   └── ...
    │
    └── ../冲突检测功能说明.md (功能专题)
        └── 详细的冲突检测说明
```

---

## 📊 文档完整性检查清单

- [x] 活动图（业务流程）
- [x] 类图（数据结构）
- [x] 时序图 - 单个排班创建
- [x] 时序图 - 批量导入
- [x] 时序图 - 患者查看
- [x] 时序图 - 医生请假
- [x] 时序图 - 排班修改取消
- [x] 时序图 - 冲突检测
- [x] README文档
- [x] 快速参考指南
- [x] 冲突检测专题文档
- [x] 目录索引

---

## 🆕 文档更新日志

| 日期 | 版本 | 更新内容 | 更新人 |
|------|------|----------|--------|
| 2025-10-20 | v1.0 | 创建完整的UML设计文档集 | 开发团队 |
| 2025-10-20 | v1.0 | 添加冲突检测详细说明 | 开发团队 |
| 2025-10-20 | v1.0 | 添加快速参考指南 | 开发团队 |

---

## 💡 文档贡献指南

### 如何更新文档

1. **更新UML图**:
   - 修改对应的 `.puml` 文件
   - 确保语法正确（在线工具验证）
   - 更新 `README.md` 中的相关说明

2. **更新功能说明**:
   - 修改对应的 `.md` 文件
   - 保持格式一致
   - 更新版本历史

3. **添加新文档**:
   - 在本目录下创建新文件
   - 在本文件中添加索引
   - 在 `README.md` 中添加说明

### 文档命名规范

- UML图: `序号_类型_描述.puml`
- 说明文档: `功能名称说明.md`
- 使用中文文件名，便于识别

---

## 📞 获取帮助

### 问题反馈
- 📧 Email: dev-team@hospital.com
- 💬 Issue: [项目Issue地址]
- 📱 企业微信: 开发组群

### 文档维护
- 负责人: 系统架构师
- 更新周期: 每次重大功能更新时
- 审核流程: PR Review

---

## 🌟 文档特色

✅ **完整性** - 覆盖所有核心业务流程  
✅ **可视化** - UML图直观展示系统设计  
✅ **实用性** - 提供SQL模板和快速参考  
✅ **易用性** - 多种查看方式和索引  
✅ **可维护** - 清晰的更新指南和版本控制  

---

**最后更新**: 2025年10月20日  
**文档版本**: v1.0  
**适用系统**: 医院排班系统 v1.0+




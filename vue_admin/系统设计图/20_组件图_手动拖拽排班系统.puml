@startuml
!theme plain
title 手动拖拽排班系统组件图

package "Interface Layer" {
    component "<<interface>>\nSchedulingInterface" as SchedulingUI
    component "<<interface>>\nDragHandler" as DragHandler
}

package "Controller Layer" {
    component "<<controller>>\nDragController" as DragController
    component "<<controller>>\nConflictDetector" as ConflictDetector
}

package "Entity Layer" {
    component ":ScheduleData" as ScheduleData
    component ":DoctorData" as DoctorData
    component ":TimeSlotData" as TimeSlotData
    component ":LocationData" as LocationData
}

' Interface Layer connections
SchedulingUI --> DragHandler

' Controller Layer connections
DragHandler --> DragController
DragController --> ConflictDetector

' Controller to Entity connections
DragController --> ScheduleData
DragController --> DoctorData
DragController --> TimeSlotData
DragController --> LocationData

ConflictDetector --> ScheduleData
ConflictDetector --> DoctorData
ConflictDetector --> TimeSlotData
ConflictDetector --> LocationData

' Interface to Controller connections
SchedulingUI --> DragController
SchedulingUI --> ConflictDetector

note right of ConflictDetector
① 自我调用——对象可以调用它自己的方法
end note

note right of DragController
② 框架——使用框架来表示需要循环的所有消息,或用来表示一条或多条消息是可选的步骤
end note

@enduml



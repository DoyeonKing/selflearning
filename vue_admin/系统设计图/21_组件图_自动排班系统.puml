@startuml
!theme plain
title 自动排班系统组件图

package "Interface Layer" {
    component "<<interface>>\nAutoSchedulingInterface" as AutoSchedulingUI
    component "<<interface>>\nFileUploadHandler" as FileHandler
}

package "Controller Layer" {
    component "<<controller>>\nAutoSchedulingController" as AutoSchedulingController
    component "<<controller>>\nSchedulingAlgorithm" as SchedulingAlgorithm
    component "<<controller>>\nFileProcessor" as FileProcessor
}

package "Entity Layer" {
    component ":ScheduleData" as ScheduleData
    component ":ConstraintData" as ConstraintData
    component ":DepartmentData" as DepartmentData
    component ":DoctorData" as DoctorData
}

' Interface Layer connections
AutoSchedulingUI --> FileHandler

' Controller Layer connections
FileHandler --> FileProcessor
AutoSchedulingUI --> AutoSchedulingController
AutoSchedulingController --> SchedulingAlgorithm

' Controller to Entity connections
AutoSchedulingController --> ScheduleData
AutoSchedulingController --> ConstraintData
AutoSchedulingController --> DepartmentData
AutoSchedulingController --> DoctorData

SchedulingAlgorithm --> ScheduleData
SchedulingAlgorithm --> ConstraintData
SchedulingAlgorithm --> DoctorData

FileProcessor --> ConstraintData

' Interface to Controller connections
AutoSchedulingUI --> AutoSchedulingController
AutoSchedulingUI --> SchedulingAlgorithm

note right of SchedulingAlgorithm
① 自我调用——对象可以调用它自己的方法
end note

note right of AutoSchedulingController
② 框架——使用框架来表示需要循环的所有消息,或用来表示一条或多条消息是可选的步骤
end note

@enduml
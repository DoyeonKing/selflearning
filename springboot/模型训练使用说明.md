# 🚀 Word2Vec模型训练使用说明

## ✅ Java全自动方案（推荐）

### 核心文件

- **服务**：`src/main/java/.../service/ModelTrainingService.java`
- **接口**：`src/main/java/.../controller/ModelTrainingController.java`

### 使用方法

#### 1. 准备词典文件

将医疗词典文件放到 resources 目录：
```
springboot/src/main/resources/med_word.txt
```

**注意**：如果 `med_word.txt` 在 `models/` 目录，需要复制到 `resources/` 目录。

#### 2. 准备外部语料（可选）

如果需要，创建外部语料文件：
```
springboot/src/main/resources/medical_corpus.txt
```

格式：每行一句话，例如：
```
心内科主要治疗心脏病和高血压
消化内科擅长胃炎、肠炎等疾病
```

#### 3. 更新数据库数据

确保数据库中有医生数据：
```sql
UPDATE doctors 
SET specialty = '擅长治疗...', 
    bio = '...'
WHERE doctor_id = 1;
```

#### 4. 启动项目并训练

```bash
# 启动项目
mvn spring-boot:run

# 调用训练接口（使用Swagger UI）
访问 http://localhost:8080/swagger-ui.html
找到 "AI模型训练" -> "训练Word2Vec模型" -> Execute
```

### 训练结果

训练完成后，模型文件保存在：
```
springboot/models/medical_word2vec.bin
```

## 📋 文件位置说明

### 必需文件

- `src/main/resources/med_word.txt` - 医疗词典（必需）
- `models/medical_word2vec.bin` - 训练后的模型文件（自动生成）

### 可选文件

- `src/main/resources/medical_corpus.txt` - 外部语料（可选）

## ❓ 常见问题

### Q: 词典文件应该放在哪里？

**A**: 应该放在 `src/main/resources/med_word.txt`，不是 `models/` 目录。

### Q: 如何训练模型？

**A**: 调用接口 `POST /api/ai-model/train` 即可，Java代码会自动完成所有步骤。

### Q: 需要Python吗？

**A**: 不需要，这是纯Java方案。

---

**详细文档**：查看 `Java全自动模型训练指南.md`


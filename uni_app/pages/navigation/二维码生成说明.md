# 二维码定位 - 二维码生成说明

## 二维码格式

二维码内容格式：`HOSPITAL_NODE_数字`

例如：
- `HOSPITAL_NODE_1` - 医院大门
- `HOSPITAL_NODE_2` - 分诊台
- `HOSPITAL_NODE_3` - 电梯口
- `HOSPITAL_NODE_4` - 内科诊室
- `HOSPITAL_NODE_5` - 外科诊室

## 生成二维码的方法

### 方法一：在线生成（推荐，最简单）

1. **使用草料二维码生成器（推荐）**
   - 网址：https://cli.im/
   - 步骤：
     1. 打开网站
     2. 选择"文本"类型
     3. 输入内容，例如：`HOSPITAL_NODE_1`
     4. 点击"生成二维码"
     5. 下载二维码图片
     6. 打印并张贴在医院对应位置

2. **使用其他在线生成器**
   - https://www.qrcode-monkey.com/
   - https://www.the-qrcode-generator.com/
   - 或搜索"二维码生成器"

### 方法二：使用微信小程序生成

1. 搜索"二维码生成器"小程序
2. 输入文本内容：`HOSPITAL_NODE_1`
3. 生成二维码并保存图片
4. 打印并张贴

### 方法三：使用Python脚本生成（开发者）

创建一个Python文件 `generate_qrcode.py`：

```python
import qrcode

# 节点列表
nodes = [
    (1, "医院大门"),
    (2, "分诊台"),
    (3, "电梯口"),
    (4, "内科诊室"),
    (5, "外科诊室"),
]

# 生成二维码
for node_id, name in nodes:
    content = f"HOSPITAL_NODE_{node_id}"
    
    # 创建二维码
    qr = qrcode.QRCode(
        version=1,
        error_correction=qrcode.constants.ERROR_CORRECT_L,
        box_size=10,
        border=4,
    )
    qr.add_data(content)
    qr.make(fit=True)
    
    # 生成图片
    img = qr.make_image(fill_color="black", back_color="white")
    
    # 保存图片
    filename = f"qrcode_node_{node_id}_{name}.png"
    img.save(filename)
    print(f"✅ 已生成: {filename} - {content}")

print("\n所有二维码生成完成！")
```

**安装依赖：**
```bash
pip install qrcode[pil]
```

**运行脚本：**
```bash
python generate_qrcode.py
```

## 二维码张贴位置

在医院的关键位置张贴对应的二维码：

| 节点ID | 位置名称 | 二维码内容 | 建议张贴位置 |
|--------|---------|-----------|-------------|
| 1 | 医院大门 | HOSPITAL_NODE_1 | 大门入口处，显眼位置 |
| 2 | 分诊台 | HOSPITAL_NODE_2 | 分诊台桌面或墙上 |
| 3 | 电梯口 | HOSPITAL_NODE_3 | 电梯按钮旁边 |
| 4 | 内科诊室 | HOSPITAL_NODE_4 | 诊室门口 |
| 5 | 外科诊室 | HOSPITAL_NODE_5 | 诊室门口 |

## 测试二维码

### 1. 使用手机微信测试
- 打开微信扫一扫
- 扫描生成的二维码
- 查看是否能识别出文本内容

### 2. 使用导航页面测试
- 打开导航页面
- 点击"📷 扫码定位"按钮
- 扫描二维码
- 查看是否定位到对应位置

## 注意事项

1. **二维码大小**：建议打印尺寸至少 5cm × 5cm，方便扫描
2. **张贴高度**：建议高度在 1.5-2米之间，方便扫码
3. **光线充足**：确保张贴位置光线充足，方便识别
4. **避免遮挡**：不要被其他物品遮挡
5. **定期检查**：定期检查二维码是否清晰，是否需要更换

## 快速测试（使用文本二维码）

如果暂时没有打印二维码，可以使用以下方法快速测试：

1. 在手机或电脑上打开一个二维码生成网站
2. 生成一个二维码（内容：`HOSPITAL_NODE_1`）
3. 在手机屏幕上显示这个二维码
4. 用另一部手机或这个手机的分屏功能扫描

## 二维码打印模板

如果需要批量打印，可以创建一个包含多个二维码的PDF文件：

```html
<!DOCTYPE html>
<html>
<head>
    <title>医院导航二维码</title>
    <style>
        .qrcode-item {
            display: inline-block;
            margin: 20px;
            text-align: center;
        }
        .qrcode-item img {
            width: 150px;
            height: 150px;
        }
        .qrcode-item p {
            margin-top: 10px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1>医院导航定位二维码</h1>
    
    <div class="qrcode-item">
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=HOSPITAL_NODE_1" alt="医院大门">
        <p>医院大门<br>HOSPITAL_NODE_1</p>
    </div>
    
    <div class="qrcode-item">
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=HOSPITAL_NODE_2" alt="分诊台">
        <p>分诊台<br>HOSPITAL_NODE_2</p>
    </div>
    
    <!-- 更多二维码... -->
</body>
</html>
```

使用在线API直接生成二维码图片URL：
- `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=HOSPITAL_NODE_1`

可以直接在浏览器中打开这个URL，保存图片。

## 推荐工具

1. **草料二维码**：https://cli.im/ （最推荐，简单易用）
2. **QR Code Monkey**：https://www.qrcode-monkey.com/ （可以自定义样式）
3. **在线二维码生成器**：https://www.the-qrcode-generator.com/








